import { MetaEffect, Effect } from "./effect"
// import { gameSlice } from "../gameState"
import { damage } from "../actions/damage"
import type { Listeners } from "../actions/actionResolver"

export const vulnerability = Symbol('vulnerability');
console.log(MetaEffect)
export const Vulnerability: Class<Effect> = MetaEffect(vulnerability, true, x => x - 1, owner => ({
    id: vulnerability,
    header: {
        subjects: [owner],
        tags: [damage],
    },
    consumer({ data }){
        if(typeof data.damage == 'number'){
            data.damage *= 1.5
        }
    },  
}), [], [damage])